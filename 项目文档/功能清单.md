# 功能清单与当前进度

## 已实现
- 后端：Flask+SQLAlchemy+Migrate、登录管理、数据模型（用户/店铺/消息/知识库/向量/AI回复/审核/统计）
- API：认证、店铺（含配置）、消息列表与处理、审核队列、千牛探针/发送、知识库检索
- 任务：APScheduler 10s 轮询（未读检测→OCR→入库）
- 知识库：向量检索（优先），Jaccard 回退
- AI：占位适配器；可选 OpenAI 接入（环境变量）
- 前端：登录/店铺配置/消息列表/审核队列；路由守卫；自适应卡片；登录页居中正方形
- HTTP：集中客户端（预览默认 5002，支持 VITE_API_BASE），携带 Cookie
 - 错误呈现：登录失败详细信息弹窗（URL/方法/请求头/状态码/响应头/数据摘要）

## 进行中
- 千牛 UI 自动化调优与 OCR 区域模板化（分辨率/缩放/主题）
- 知识库数据管理与真实向量库
- 审核页详情/编辑后发送
- 监控与告警

## 待办
- 统一后端调度器的应用上下文管理，消除 SQLAlchemy init_app 报错的回归风险
- 构建与部署脚本（Windows/Linux 分离）
- 完善测试用例覆盖率和质量
- 添加性能测试和压力测试
- 实现自动化测试流水线

## 测试体系（新增）
- 单元测试：API端点功能测试（test_api.py）
- 前端测试：组件和界面测试（test_frontend.py）
- 集成测试：端到端业务流程测试（test_integration.py）
- 测试工具：数据生成器、断言工具、辅助函数（test_utils.py）
- 测试配置：环境配置和常量（test_config.py）
- 测试运行：统一测试运行脚本（run_tests.py, run_tests.bat, run_tests.ps1）
- 测试报告：HTML报告、覆盖率报告、测试日志
- 测试文档：完整的测试指南和最佳实践

> 该文档与《测试日志.md》配合，用于呈现当前可用能力与进行中事项。
