# 智能客服系统

## 项目简介

智能客服系统是一个基于UI自动化的淘宝千牛客服自动回复系统，采用四层架构设计，实现从消息监控到智能回复的完整自动化流程。

### 核心特性

- 🤖 **智能回复**: 基于知识库和AI模型的智能客服回复
- 📱 **千牛集成**: 无缝对接淘宝千牛工作台
- 🔍 **OCR识别**: 自动识别千牛消息内容
- 📚 **知识库管理**: 向量检索+语义匹配的智能问答
- 👥 **多角色管理**: 支持超级管理员、店铺管理员、客服等角色
- 📊 **数据统计**: 完整的消息处理和回复统计
- 🔄 **混合审核**: 自动回复+人工审核的混合模式

## 快速开始

### 5分钟快速体验

1. **环境准备**
   ```bash
   # 确保已安装 Python 3.12+ 和 Node.js 18+
   python --version
   node --version
   ```

2. **克隆项目**
   ```bash
   git clone <项目地址>
   cd 智能客服
   ```

3. **一键部署（Windows）**
   ```bash
   # 运行部署脚本
   deploy_windows.bat
   
   # 启动系统
   start_all.bat
   ```

4. **访问系统**
   - 前端管理界面: http://localhost:5174
   - 后端API接口: http://localhost:5002
   - 默认管理员账号: admin / admin123

### Docker部署（Linux）

```bash
# 构建并启动服务
docker-compose up -d

# 初始化数据库
docker-compose exec backend python -m flask db upgrade

# 访问系统
# 前端: http://your-server-ip
# 后端: http://your-server-ip:5002
```

## 技术栈

### 后端技术
- **框架**: Flask 3.0 + SQLAlchemy 2.0
- **数据库**: SQLite（开发）/ MySQL（生产）
- **任务调度**: APScheduler
- **AI模型**: OpenAI GPT / 通义千问 / 文心一言
- **OCR**: PaddleOCR / Tesseract
- **UI自动化**: pyautogui + pywin32

### 前端技术
- **框架**: Vue 3 + Vite
- **UI组件**: Element Plus
- **状态管理**: Pinia
- **路由**: Vue Router
- **HTTP客户端**: Axios
- **图表**: ECharts

### 部署技术
- **容器化**: Docker + Docker Compose
- **反向代理**: Nginx
- **进程管理**: 支持Windows服务/Linux systemd

## 系统架构

```
┌─────────────┐      ┌──────────────┐      ┌─────────────┐
│  千牛客户端  │ ←──→ │  UI自动化层   │ ←──→ │  知识库引擎  │
│  (消息源)   │      │(消息监控/发送)│      │  (智能匹配)  │
└─────────────┘      └──────────────┘      └─────────────┘
                            ↕                      ↕
                     ┌──────────────┐      ┌─────────────┐
                     │  Python服务   │ ←──→ │ AI大模型API │
                     │  (核心逻辑)   │      │  (智能回复)  │
                     └──────────────┘      └─────────────┘
                            ↕
                     ┌──────────────┐
                     │  Web管理后台  │
                     │(审核/配置/知识库)│
                     └──────────────┘
```

## 文档导航

### 📋 开发文档
- [01-架构设计](01-架构设计.md) - 系统架构与技术选型
- [02-数据库设计](02-数据库设计.md) - 数据模型与ER图
- [03-API文档](03-API文档.md) - 完整API接口文档
- [04-前端开发指南](04-前端开发指南.md) - Vue 3开发规范
- [05-后端开发指南](05-后端开发指南.md) - Python/Flask开发规范
- [06-开发规范](06-开发规范.md) - 代码质量标准

### 🧪 测试文档
- [07-测试指南](07-测试指南.md) - 完整测试体系

### 🚀 部署运维
- [08-部署指南](08-部署指南.md) - Windows与Linux部署
- [09-运维手册](09-运维手册.md) - 监控、告警、故障处理

### 📈 项目管理
- [10-开发计划](10-开发计划.md) - 项目进度与路线图
- [11-常见问题FAQ](11-常见问题FAQ.md) - 开发踩坑与解决方案

## 项目结构

```
智能客服/
├── houduan/                    # 后端服务
│   ├── app.py                  # Flask应用入口
│   ├── config.py              # 配置管理
│   ├── models/                 # 数据模型
│   ├── api/                    # API接口
│   ├── services/              # 业务逻辑
│   └── utils/                  # 工具函数
├── qianduan/                   # 前端应用
│   ├── src/
│   │   ├── views/             # 页面组件
│   │   ├── components/         # 通用组件
│   │   ├── api/               # API客户端
│   │   └── store/             # 状态管理
│   └── dist/                  # 构建产物
├── tests/                      # 测试文件
├── data/                       # 数据目录
├── logs/                       # 日志目录
├── migrations/                 # 数据库迁移
└── 项目文档/                   # 项目文档
```

## 核心功能

### 1. 千牛消息监控
- 实时监控千牛工作台消息
- OCR识别消息内容
- 支持多店铺窗口轮询
- 消息去重和状态跟踪

### 2. 智能知识库
- 向量检索+语义匹配
- 多店铺独立知识库
- 支持Excel/JSON导入导出
- 知识库效果统计

### 3. AI智能回复
- 多模型适配（OpenAI/通义/文心等）
- 上下文对话管理
- 敏感词过滤
- 回复质量评估

### 4. 混合审核机制
- 高置信度自动发送
- 低置信度人工审核
- 审核队列管理
- 批量操作支持

### 5. 数据统计分析
- 消息处理统计
- 回复率分析
- AI使用情况
- 知识库命中率

## 开发环境

### 环境要求
- **Python**: 3.12+
- **Node.js**: 18+
- **操作系统**: Windows 10/11 (开发) / Linux (生产)
- **内存**: 至少4GB RAM
- **磁盘空间**: 至少2GB可用空间

### 本地开发
```bash
# 后端开发
cd houduan
python -m venv .venv
.venv\Scripts\activate  # Windows
pip install -r requirements.txt
python -m flask db upgrade
python -m houduan.app

# 前端开发
cd qianduan
npm install
npm run dev
```

## 贡献指南

### 开发流程
1. Fork 项目
2. 创建功能分支
3. 编写代码和测试
4. 提交 Pull Request
5. 代码审查
6. 合并到主分支

### 代码规范
- 遵循 PEP 8 (Python) 和 ESLint (JavaScript)
- 编写单元测试
- 更新相关文档
- 提交信息规范

### 问题反馈
- 使用 GitHub Issues 报告问题
- 提供详细的错误信息和复现步骤
- 附上相关的日志文件

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 技术支持

如遇到问题，请参考：
1. [11-常见问题FAQ](11-常见问题FAQ.md) - 常见问题解答
2. [09-运维手册](09-运维手册.md) - 故障处理指南
3. GitHub Issues - 提交问题反馈

---

**文档版本**: v2.0  
**最后更新**: 2025-01-21  
**维护人员**: 开发团队
